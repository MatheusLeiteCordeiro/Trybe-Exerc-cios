{"ast":null,"code":"var _jsxFileName = \"/home/matheus/Dropbox/Trybe/Trybe-Exerc\\xEDcios/Desenvolvimento-Front-End/Sess\\xE3o-09-Context-API-e-React-Hookes/dia-03-useEffect-e-Custom-Hooks/my_app/src/context/ISSLocationProvider.jsx\",\n    _s = $RefreshSig$();\n\nimport ISSLocationContext from \"./ISSLocationContext\";\nimport { getCurrentISSLocation } from \"../services/issAPI\";\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ISSLocationProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const state = {\n    latitude: 0,\n    longitude: 0,\n    isFetching: false,\n    error: ''\n  };\n  const [ISSLocationInfos, setIssLocationInfos] = useState(state);\n  const [peopleInSpace, setPeapleInSpace] = useState([]);\n\n  const fetchISSLocation = async () => {\n    console.log('fetchISSLocation');\n    setIssLocationInfos(prevState => ({ ...prevState,\n      isFetching: true\n    }));\n\n    try {\n      const response = await getCurrentISSLocation();\n      setIssLocationInfos(prevState => ({ ...prevState,\n        latitude: response.iss_position.latitude,\n        longitude: response.iss_position.longitude,\n        isFetching: false\n      }));\n    } catch (error) {\n      setIssLocationInfos(prevState => ({ ...prevState,\n        isFetching: false,\n        error: error\n      }));\n    }\n  };\n\n  const fetchPeapleInSpace = async () => {\n    console.log('fetchPeapleInSpace');\n\n    try {\n      const response = await fetch('http://api.open-notify.org/astros.json');\n      const {\n        people\n      } = await response.json();\n      setPeapleInSpace(people);\n      setIssLocationInfos(prevState => ({ ...prevState,\n        isFetching: false\n      }));\n    } catch (error) {\n      setIssLocationInfos(prevState => ({ ...prevState,\n        isFetching: false,\n        error: error\n      }));\n    }\n  };\n\n  const contextType = { ...ISSLocationInfos,\n    peopleInSpace,\n    fetchISSLocation,\n    fetchPeapleInSpace\n  };\n  return /*#__PURE__*/_jsxDEV(ISSLocationContext.Provider, {\n    value: contextType,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ISSLocationProvider, \"ZUeMjX8SKr36EK/AwLyKaik1Eck=\");\n\n_c = ISSLocationProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ISSLocationProvider\");","map":{"version":3,"names":["ISSLocationContext","getCurrentISSLocation","useState","ISSLocationProvider","children","state","latitude","longitude","isFetching","error","ISSLocationInfos","setIssLocationInfos","peopleInSpace","setPeapleInSpace","fetchISSLocation","console","log","prevState","response","iss_position","fetchPeapleInSpace","fetch","people","json","contextType"],"sources":["/home/matheus/Dropbox/Trybe/Trybe-Exercícios/Desenvolvimento-Front-End/Sessão-09-Context-API-e-React-Hookes/dia-03-useEffect-e-Custom-Hooks/my_app/src/context/ISSLocationProvider.jsx"],"sourcesContent":["import ISSLocationContext from \"./ISSLocationContext\";\nimport { getCurrentISSLocation } from \"../services/issAPI\";\nimport { useState } from 'react';\n\nexport default function ISSLocationProvider({ children }) {\n\n  const state = {\n    latitude: 0,\n    longitude: 0,\n    isFetching: false,\n    error: '',\n  };\n\n  const [ISSLocationInfos, setIssLocationInfos] = useState(state)\n  const [peopleInSpace, setPeapleInSpace] = useState([]);\n\n  const fetchISSLocation = async () => {\n    console.log('fetchISSLocation');\n\n    setIssLocationInfos((prevState) => ({\n      ...prevState,\n      isFetching: true,\n    }));\n  \n      try {\n        const response = await getCurrentISSLocation();\n        setIssLocationInfos((prevState) => ({\n          ...prevState,\n          latitude: response.iss_position.latitude,\n          longitude: response.iss_position.longitude,\n          isFetching: false,\n        }));\n      } catch (error) {\n        setIssLocationInfos((prevState) => ({ \n          ...prevState,\n          isFetching: false,\n          error: error,\n         }));\n      }\n    }\n\n    const fetchPeapleInSpace = async() => {\n      console.log('fetchPeapleInSpace');\n      \n      try {\n        const response = await fetch('http://api.open-notify.org/astros.json');\n        const { people } = await response.json();\n        setPeapleInSpace(people);\n        setIssLocationInfos((prevState) => ({\n          ...prevState,\n          isFetching: false,\n        }));\n      } catch (error) {\n        setIssLocationInfos((prevState) => ({ \n          ...prevState,\n          isFetching: false,\n          error: error,\n         }));\n      }\n    }\n\n    const contextType = {\n      ...ISSLocationInfos,\n      peopleInSpace,\n      fetchISSLocation,\n      fetchPeapleInSpace,\n    }  \n    return ( \n    <ISSLocationContext.Provider value={ contextType }>\n      { children }\n    </ISSLocationContext.Provider>\n    );\n}"],"mappings":";;;AAAA,OAAOA,kBAAP,MAA+B,sBAA/B;AACA,SAASC,qBAAT,QAAsC,oBAAtC;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAEA,eAAe,SAASC,mBAAT,OAA2C;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EAExD,MAAMC,KAAK,GAAG;IACZC,QAAQ,EAAE,CADE;IAEZC,SAAS,EAAE,CAFC;IAGZC,UAAU,EAAE,KAHA;IAIZC,KAAK,EAAE;EAJK,CAAd;EAOA,MAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CT,QAAQ,CAACG,KAAD,CAAxD;EACA,MAAM,CAACO,aAAD,EAAgBC,gBAAhB,IAAoCX,QAAQ,CAAC,EAAD,CAAlD;;EAEA,MAAMY,gBAAgB,GAAG,YAAY;IACnCC,OAAO,CAACC,GAAR,CAAY,kBAAZ;IAEAL,mBAAmB,CAAEM,SAAD,KAAgB,EAClC,GAAGA,SAD+B;MAElCT,UAAU,EAAE;IAFsB,CAAhB,CAAD,CAAnB;;IAKE,IAAI;MACF,MAAMU,QAAQ,GAAG,MAAMjB,qBAAqB,EAA5C;MACAU,mBAAmB,CAAEM,SAAD,KAAgB,EAClC,GAAGA,SAD+B;QAElCX,QAAQ,EAAEY,QAAQ,CAACC,YAAT,CAAsBb,QAFE;QAGlCC,SAAS,EAAEW,QAAQ,CAACC,YAAT,CAAsBZ,SAHC;QAIlCC,UAAU,EAAE;MAJsB,CAAhB,CAAD,CAAnB;IAMD,CARD,CAQE,OAAOC,KAAP,EAAc;MACdE,mBAAmB,CAAEM,SAAD,KAAgB,EAClC,GAAGA,SAD+B;QAElCT,UAAU,EAAE,KAFsB;QAGlCC,KAAK,EAAEA;MAH2B,CAAhB,CAAD,CAAnB;IAKD;EACF,CAvBH;;EAyBE,MAAMW,kBAAkB,GAAG,YAAW;IACpCL,OAAO,CAACC,GAAR,CAAY,oBAAZ;;IAEA,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMG,KAAK,CAAC,wCAAD,CAA5B;MACA,MAAM;QAAEC;MAAF,IAAa,MAAMJ,QAAQ,CAACK,IAAT,EAAzB;MACAV,gBAAgB,CAACS,MAAD,CAAhB;MACAX,mBAAmB,CAAEM,SAAD,KAAgB,EAClC,GAAGA,SAD+B;QAElCT,UAAU,EAAE;MAFsB,CAAhB,CAAD,CAAnB;IAID,CARD,CAQE,OAAOC,KAAP,EAAc;MACdE,mBAAmB,CAAEM,SAAD,KAAgB,EAClC,GAAGA,SAD+B;QAElCT,UAAU,EAAE,KAFsB;QAGlCC,KAAK,EAAEA;MAH2B,CAAhB,CAAD,CAAnB;IAKD;EACF,CAlBD;;EAoBA,MAAMe,WAAW,GAAG,EAClB,GAAGd,gBADe;IAElBE,aAFkB;IAGlBE,gBAHkB;IAIlBM;EAJkB,CAApB;EAMA,oBACA,QAAC,kBAAD,CAAoB,QAApB;IAA6B,KAAK,EAAGI,WAArC;IAAA,UACIpB;EADJ;IAAA;IAAA;IAAA;EAAA,QADA;AAKH;;GApEuBD,mB;;KAAAA,mB"},"metadata":{},"sourceType":"module"}